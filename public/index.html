<!DOCTYPE html>
<html>
<head>
	<title>Home Page</title>
	<style type="text/css">
		button {
			padding: 8px;
		}

		#create-party {
			background-color: red;
			padding: 12px;
		}

		#join-party {
			background-color: powderblue;
			padding: 12px;
		}
	</style>
</head>
<body>
	<h2>Welcome to Crowd Dj!</h2>
	<button id="create" onClick="userClick(this.id)">Create Party</button>
	<button id="join" onClick="userClick(this.id)">Join Party</button>
	<div id="create-party" hidden>
		<form action="/events" method="POST" id="create-form">
			<input type="text" name="event_name" placeholder="Party Name" id="party-name">
			<input type="text" name="dj_name" placeholder="DJ Name" id="dj-name">
			<input type="number" name="size" placeholder="Size" id="size">
			<input type="submit">
		</form>
	</div>
	<div id="join-party" hidden>
		<form action="" id="join-form" onsubmit="event.preventDefault(); joinParty();">
			<input type="text" name="party-id" placeholder="Party ID" id="party-id">
			<input type="submit">
		</form>
	</div>
</body>
<script type="text/javascript">
	function userClick(button_id) {
		if(button_id === 'create') {
			document.getElementById('join-party').setAttribute("hidden", 'true');
			document.getElementById('create-party').removeAttribute('hidden');
		}
		
		if(button_id === 'join') {
			document.getElementById('create-party').setAttribute("hidden", 'true');
			document.getElementById('join-party').removeAttribute('hidden');
		}		
	}

	function joinParty() {
		var party_id = document.getElementById("party-id").value;
		console.log(party_id);
		window.location.replace("http://localhost:3000/events/passcode/"+ party_id)
	}

	document.getElementById("create-form").addEventListener("submit", function(e) {
		e.submit();
	})


	// document.getElementById("join-form").addEventListener("submit", function(e) {
	// 	e.preventDefault();
	// 	var party_id = document.getElementById("party-id").value();
	// 	console.log(party_id);
	// 	window.location.replace("localhost:3000/events/passcode/"+ party_id)
	// })	
</script>
</html> 